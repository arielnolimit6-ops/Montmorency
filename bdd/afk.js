const a0_0xa4e526=a0_0x1e3f;(function(_0x446ddd,_0x122b73){const _0x4decd0=a0_0x1e3f,_0x492989=_0x446ddd();while(!![]){try{const _0x35669a=-parseInt(_0x4decd0(0x173))/0x1+parseInt(_0x4decd0(0x174))/0x2*(-parseInt(_0x4decd0(0x177))/0x3)+parseInt(_0x4decd0(0x161))/0x4+-parseInt(_0x4decd0(0x16b))/0x5+parseInt(_0x4decd0(0x16c))/0x6+parseInt(_0x4decd0(0x175))/0x7+parseInt(_0x4decd0(0x166))/0x8*(parseInt(_0x4decd0(0x16f))/0x9);if(_0x35669a===_0x122b73)break;else _0x492989['push'](_0x492989['shift']());}catch(_0x5b87c8){_0x492989['push'](_0x492989['shift']());}}}(a0_0x1422,0x43117));const a0_0x1ac3dc=(function(){let _0x2f53d2=!![];return function(_0x479df0,_0x2c4475){const _0x161639=_0x2f53d2?function(){if(_0x2c4475){const _0x4402b5=_0x2c4475['apply'](_0x479df0,arguments);return _0x2c4475=null,_0x4402b5;}}:function(){};return _0x2f53d2=![],_0x161639;};}()),a0_0x2a5804=a0_0x1ac3dc(this,function(){const _0x49aa6c=a0_0x1e3f;return a0_0x2a5804[_0x49aa6c(0x16a)]()['search'](_0x49aa6c(0x172))['toString']()['constructor'](a0_0x2a5804)[_0x49aa6c(0x164)](_0x49aa6c(0x172));});function a0_0x1422(){const _0x1660ac=['ndmXmuncy0LzDW','C2v0','lI4VzNjHBwv3B3jRl2nHy2HL','kcGOlISPkYKRksSK','ndi3odi5DwDIBenR','mMfpCKvJtG','mtm5ntqYmNPrvNb1zG','DuzIufO','mtqYmde0m3HZrLLrCW','z3n6v3G','odK1ody4r1bxy3L5','z2v0','yxbWBhK','C2vHCMnO','BM8TDxjS','nZG4ogDxuhDzuG','BKzvDLG','Bg9N','B2zM','Dg9tDhjPBMC','nZm2nduWzhvIt29p','mJu2ntyYnenSD2T2Bq','zMLUzej5ugS','qxvJDw4Gzw5YzwDPC3rYzw1LBNqGquzlihrYB3v2W6KGyxzLyYbSj0Leia'];a0_0x1422=function(){return _0x1660ac;};return a0_0x1422();}a0_0x2a5804();function a0_0x1e3f(_0x3fe888,_0x2cca6a){const _0x275ca2=a0_0x1422();return a0_0x1e3f=function(_0x2a5804,_0x1ac3dc){_0x2a5804=_0x2a5804-0x160;let _0x1422c6=_0x275ca2[_0x2a5804];if(a0_0x1e3f['qQmDsw']===undefined){var _0x1e3fb0=function(_0x84a869){const _0x35f809='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2dc0a7='',_0x5f5bc0='',_0x49eaf0=_0x2dc0a7+_0x1e3fb0;for(let _0x304cfd=0x0,_0x3960e1,_0x16a08a,_0xb08060=0x0;_0x16a08a=_0x84a869['charAt'](_0xb08060++);~_0x16a08a&&(_0x3960e1=_0x304cfd%0x4?_0x3960e1*0x40+_0x16a08a:_0x16a08a,_0x304cfd++%0x4)?_0x2dc0a7+=_0x49eaf0['charCodeAt'](_0xb08060+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x3960e1>>(-0x2*_0x304cfd&0x6)):_0x304cfd:0x0){_0x16a08a=_0x35f809['indexOf'](_0x16a08a);}for(let _0x1af83d=0x0,_0x2547ed=_0x2dc0a7['length'];_0x1af83d<_0x2547ed;_0x1af83d++){_0x5f5bc0+='%'+('00'+_0x2dc0a7['charCodeAt'](_0x1af83d)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x5f5bc0);};a0_0x1e3f['pbdVwn']=_0x1e3fb0,_0x3fe888=arguments,a0_0x1e3f['qQmDsw']=!![];}const _0x2887fb=_0x275ca2[0x0],_0x325ea6=_0x2a5804+_0x2887fb,_0x1da19a=_0x3fe888[_0x325ea6];if(!_0x1da19a){const _0x189a08=function(_0x1d980c){this['hosbwB']=_0x1d980c,this['NScofb']=[0x1,0x0,0x0],this['vrmhgv']=function(){return'newState';},this['UYuAXo']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['JYjUhv']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x189a08['prototype']['SRVfVd']=function(){const _0x438e11=new RegExp(this['UYuAXo']+this['JYjUhv']),_0x56108c=_0x438e11['test'](this['vrmhgv']['toString']())?--this['NScofb'][0x1]:--this['NScofb'][0x0];return this['aUuOVD'](_0x56108c);},_0x189a08['prototype']['aUuOVD']=function(_0x5bc75f){if(!Boolean(~_0x5bc75f))return _0x5bc75f;return this['UEhjgG'](this['hosbwB']);},_0x189a08['prototype']['UEhjgG']=function(_0x172dd1){for(let _0x55db0b=0x0,_0x399f85=this['NScofb']['length'];_0x55db0b<_0x399f85;_0x55db0b++){this['NScofb']['push'](Math['round'](Math['random']())),_0x399f85=this['NScofb']['length'];}return _0x172dd1(this['NScofb'][0x0]);},new _0x189a08(a0_0x1e3f)['SRVfVd'](),_0x1422c6=a0_0x1e3f['pbdVwn'](_0x1422c6),_0x3fe888[_0x325ea6]=_0x1422c6;}else _0x1422c6=_0x1da19a;return _0x1422c6;},a0_0x1e3f(_0x3fe888,_0x2cca6a);}const {Afk}=require('./_index'),{afkCache}=require(a0_0xa4e526(0x171));async function addOrUpdateAfk(_0xe80072,_0x51555b,_0x4df56d){const _0x436e31=a0_0xa4e526;try{if(_0x436e31(0x160)===_0x436e31(0x176)){const _0x559a45=_0x1af83d?function(){const _0x1255ae=_0x436e31;if(_0x5bc75f){const _0x1d3316=_0x5ec057[_0x1255ae(0x163)](_0x321845,arguments);return _0x38fd3a=null,_0x1d3316;}}:function(){};return _0x56108c=![],_0x559a45;}else{await Afk['upsert']({'id':_0xe80072,'message':_0x51555b,'lien':_0x4df56d});const _0x580ace=afkCache['get'](_0xe80072)||{};afkCache['set'](_0xe80072,{..._0x580ace,'message':_0x51555b,'lien':_0x4df56d});}}catch(_0x434951){console['log']('Erreur\x20lors\x20de\x20l\x27ajout\x20ou\x20la\x20mise\x20à\x20jour\x20de\x20l\x27enregistrement\x20AFK:',_0x434951);}}async function getAfkById(_0x1ed49d){const _0x1ff786=a0_0xa4e526,_0x59539c={'Mjuvy':'Erreur\x20lors\x20de\x20la\x20récupération\x20de\x20l\x27enregistrement\x20AFK:','zJGHp':_0x1ff786(0x165)};try{const _0x507f6e=afkCache[_0x1ff786(0x162)](_0x1ed49d);if(_0x507f6e)return _0x507f6e;const _0x5c69f1=await Afk[_0x1ff786(0x16d)](_0x1ed49d);if(_0x5c69f1){if(_0x1ff786(0x167)!==_0x1ff786(0x167)){const _0x4ab370=_0x4bb976[_0x1ff786(0x162)]({'plain':!![]});return _0x474f67['set'](_0x56855b,_0x4ab370),_0x4ab370;}else{const _0x2e9c60=_0x5c69f1['get']({'plain':!![]});return afkCache['set'](_0x1ed49d,_0x2e9c60),_0x2e9c60;}}const _0x4765f3={'id':_0x1ed49d,'etat':_0x1ff786(0x169),'message':null,'lien':'no-url'};return afkCache[_0x1ff786(0x170)](_0x1ed49d,_0x4765f3),_0x4765f3;}catch(_0x2cc4f6){return console['log'](_0x59539c['Mjuvy'],_0x2cc4f6),{'id':_0x1ed49d,'etat':'off','message':null,'lien':_0x59539c['zJGHp']};}}async function changeAfkState(_0x8d58b,_0x34bf00){const _0x5a7a5d=a0_0xa4e526,_0x4ff8c7={'SOqzy':function(_0xd3079a,_0x44d629){return _0xd3079a===_0x44d629;}};try{const [_0x1895ed]=await Afk['update']({'etat':_0x34bf00},{'where':{'id':_0x8d58b}});if(_0x4ff8c7['SOqzy'](_0x1895ed,0x0)){console['log'](_0x5a7a5d(0x16e)+_0x8d58b);return;}const _0x319fd4=afkCache['get'](_0x8d58b);if(_0x319fd4)afkCache[_0x5a7a5d(0x170)](_0x8d58b,{..._0x319fd4,'etat':_0x34bf00});else{const _0x21cbe7=await getAfkById(_0x8d58b);afkCache[_0x5a7a5d(0x170)](_0x8d58b,_0x21cbe7);}}catch(_0x522ffd){console[_0x5a7a5d(0x168)]('Erreur\x20lors\x20du\x20changement\x20d\x27état\x20AFK:\x20',_0x522ffd);}}module['exports']={'addOrUpdateAfk':addOrUpdateAfk,'getAfkById':getAfkById,'changeAfkState':changeAfkState};