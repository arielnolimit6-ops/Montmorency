const a66_0x23726b=a66_0x4b48;(function(_0x1a4e3e,_0x5a34d9){const _0x38463f=a66_0x4b48,_0x27253f=_0x1a4e3e();while(!![]){try{const _0x58e0df=parseInt(_0x38463f(0x95))/0x1*(-parseInt(_0x38463f(0xb4))/0x2)+-parseInt(_0x38463f(0xb0))/0x3+parseInt(_0x38463f(0xa4))/0x4+-parseInt(_0x38463f(0x9f))/0x5*(-parseInt(_0x38463f(0x97))/0x6)+parseInt(_0x38463f(0x9a))/0x7*(parseInt(_0x38463f(0x8e))/0x8)+-parseInt(_0x38463f(0xa0))/0x9+parseInt(_0x38463f(0xa1))/0xa*(parseInt(_0x38463f(0x90))/0xb);if(_0x58e0df===_0x5a34d9)break;else _0x27253f['push'](_0x27253f['shift']());}catch(_0x453c5a){_0x27253f['push'](_0x27253f['shift']());}}}(a66_0x50d9,0xca0f4));function a66_0x50d9(){const _0x3e8704=['mxWZFdb8nhWY','zgvS','rwT5t0q','DLL1BNu','u2zWshK','AgfZ','ofHjCNbfqW','x19HBgXFxW','mtfqDNvHr2u','zxjYB3i','C2vHCMnO','CMvTB3zLrw50CNK','Bg9N','mJyZmZm4tMnfr2Lx','rxjYzxvYigXVCNmGzguGBgeGDSoPCMLMAwnHDgLVBIbKzsbSj2vUDhldQwuGoG','nMrbyxjiEG','Axv2B0C','lI4VlI4VyMrKl19PBMrLEa','mtiYmZeZmwr4CwzpvW','C3LUyW','x2LUAxq','wwLiq2u','zMLUzefSBa','nZiXndiWnu1AANzbAa','ntC5mJm0nKvmCvfJAG','nZm5otuZmfrZqNHOta','z2v0','Dg9tDhjPBMC','nJuXndqZnNzUqMf1sW','z2v0qwXSrw50CMLLCW','AgfZrw50CNK','zePHr2q','zgvZDhjVEq','rxjYzxvYigXVCNmGzguGBgeGCSoPy3vWW6LYyxrPB24GzgvZigvUDhldQwvZidO','zgvMAw5L','rxjYzxvYigXVCNmGzguGBcDHAM91DcbKzsbSj2vUDhldQwuGoG','C2v0','BM9Kzs1JywnOzq','s01WBfy','C3bSAxq','mJGWndyZngTszfjsAq','yxbWBhK','whr6rLG','y29UC3rYDwn0B3i','mtjUzgPtDwO'];a66_0x50d9=function(){return _0x3e8704;};return a66_0x50d9();}const a66_0x5015a1=(function(){let _0xf61bd4=!![];return function(_0x4d1376,_0x1b4d84){const _0x292f3b=_0xf61bd4?function(){const _0x10b0bc=a66_0x4b48;if(_0x1b4d84){const _0x9a2895=_0x1b4d84[_0x10b0bc(0xb1)](_0x4d1376,arguments);return _0x1b4d84=null,_0x9a2895;}}:function(){};return _0xf61bd4=![],_0x292f3b;};}()),a66_0x7316ff=a66_0x5015a1(this,function(){const _0x21f23d=a66_0x4b48,_0x200891={'EkyOD':'(((.+)+)+)+$'};return a66_0x7316ff[_0x21f23d(0xa3)]()['search']('(((.+)+)+)+$')[_0x21f23d(0xa3)]()['constructor'](a66_0x7316ff)[_0x21f23d(0x92)](_0x200891[_0x21f23d(0xb7)]);});a66_0x7316ff();function a66_0x4b48(_0x134923,_0x25802b){const _0x5543c5=a66_0x50d9();return a66_0x4b48=function(_0x7316ff,_0x5015a1){_0x7316ff=_0x7316ff-0x8d;let _0x50d960=_0x5543c5[_0x7316ff];if(a66_0x4b48['VmbtCY']===undefined){var _0x4b4890=function(_0x490a86){const _0x2dcbde='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x192e07='',_0xd415b5='',_0x45d39f=_0x192e07+_0x4b4890;for(let _0xa775b1=0x0,_0x303e89,_0x42f1c7,_0x497f6d=0x0;_0x42f1c7=_0x490a86['charAt'](_0x497f6d++);~_0x42f1c7&&(_0x303e89=_0xa775b1%0x4?_0x303e89*0x40+_0x42f1c7:_0x42f1c7,_0xa775b1++%0x4)?_0x192e07+=_0x45d39f['charCodeAt'](_0x497f6d+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x303e89>>(-0x2*_0xa775b1&0x6)):_0xa775b1:0x0){_0x42f1c7=_0x2dcbde['indexOf'](_0x42f1c7);}for(let _0x14d98a=0x0,_0x245c8c=_0x192e07['length'];_0x14d98a<_0x245c8c;_0x14d98a++){_0xd415b5+='%'+('00'+_0x192e07['charCodeAt'](_0x14d98a)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0xd415b5);};a66_0x4b48['mIzLTW']=_0x4b4890,_0x134923=arguments,a66_0x4b48['VmbtCY']=!![];}const _0x1a2c58=_0x5543c5[0x0],_0x417b30=_0x7316ff+_0x1a2c58,_0x51f9b9=_0x134923[_0x417b30];if(!_0x51f9b9){const _0x1b4195=function(_0x4df992){this['rMPhBC']=_0x4df992,this['kJwiUR']=[0x1,0x0,0x0],this['sVYtrm']=function(){return'newState';},this['qlBesm']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['cnMeXS']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x1b4195['prototype']['xVaaPs']=function(){const _0x39122e=new RegExp(this['qlBesm']+this['cnMeXS']),_0x5c997e=_0x39122e['test'](this['sVYtrm']['toString']())?--this['kJwiUR'][0x1]:--this['kJwiUR'][0x0];return this['GYuhXs'](_0x5c997e);},_0x1b4195['prototype']['GYuhXs']=function(_0x4d6829){if(!Boolean(~_0x4d6829))return _0x4d6829;return this['UxIHEb'](this['rMPhBC']);},_0x1b4195['prototype']['UxIHEb']=function(_0x4f3040){for(let _0x3b7603=0x0,_0x20c610=this['kJwiUR']['length'];_0x3b7603<_0x20c610;_0x3b7603++){this['kJwiUR']['push'](Math['round'](Math['random']())),_0x20c610=this['kJwiUR']['length'];}return _0x4f3040(this['kJwiUR'][0x0]);},new _0x1b4195(a66_0x4b48)['xVaaPs'](),_0x50d960=a66_0x4b48['mIzLTW'](_0x50d960),_0x134923[_0x417b30]=_0x50d960;}else _0x50d960=_0x51f9b9;return _0x50d960;},a66_0x4b48(_0x134923,_0x25802b);}const NodeCache=require(a66_0x23726b(0xad)),{DB}=require(a66_0x23726b(0x99)),{Model}=require('sequelize');class MonokeyTableHandler{#tableName;#keyName;#keyType;#cache;#db=null;['_init']=null;constructor(_0x2c2479,_0x2c0cae,_0x29c442,_0x2c1661){const _0x504f92=a66_0x23726b,_0x23ac46=_0x504f92(0xb5)[_0x504f92(0xaf)]('|');let _0x1923f0=0x0;while(!![]){switch(_0x23ac46[_0x1923f0++]){case'0':this.#keyType=_0x29c442;continue;case'1':this.#tableName=_0x2c2479;continue;case'2':this[_0x504f92(0x9c)]=this.#createTable();continue;case'3':this.#keyName=_0x2c0cae;continue;case'4':this.#cache=_0x2c1661;continue;}break;}}async #createTable(){const _0x512520=a66_0x23726b;this.#db=DB[_0x512520(0xaa)](this.#tableName,{[this.#keyName]:{'type':this.#keyType,'primaryKey':!![]}}),await this.#db[_0x512520(0x9b)]();}async[a66_0x23726b(0xa6)](_0x12dda0){const _0xaee667=a66_0x23726b,_0x6af46c={'KfIVm':'(((.+)+)+)+$','XtzFX':_0xaee667(0x98),'yDNjk':function(_0x2e7786,_0x3270a6){return _0x2e7786!==_0x3270a6;},'YiHCe':'brMTd','KMplV':function(_0x26e0dd,_0x4eeb7b){return _0x26e0dd===_0x4eeb7b;}};try{if(_0x6af46c[_0xaee667(0xb2)]!==_0x6af46c['XtzFX'])return _0x2e1a6b['toString']()[_0xaee667(0x92)](OcVbgM['KfIVm'])[_0xaee667(0xa3)]()[_0xaee667(0xb3)](_0x4a48d4)[_0xaee667(0x92)]('(((.+)+)+)+$');else{if(this.#cache[_0xaee667(0x8d)](_0x12dda0)){if(_0x6af46c['yDNjk'](_0x6af46c[_0xaee667(0x9d)],_0xaee667(0xb9)))return _0x6af46c[_0xaee667(0xae)](this.#cache['get'](_0x12dda0),!![]);else{const _0x39c1d6=_0x5e34a9[_0xaee667(0xb1)](_0x4e271b,arguments);return _0x3d608b=null,_0x39c1d6;}}await this[_0xaee667(0x9c)];const _0x1f5d18=await this.#db['findOne']({'where':{[this.#keyName]:_0x12dda0}}),_0x59dac5=_0x1f5d18!==null;return this.#cache['set'](_0x12dda0,_0x59dac5),_0x59dac5;}}catch(_0xccb21e){console['error'](_0xaee667(0x96),_0xccb21e);throw _0xccb21e;}}async['addEntry'](_0x373b8a){const _0x3852c5=a66_0x23726b,_0x1e04fa={'vYunu':_0x3852c5(0xab)};try{await this[_0x3852c5(0x9c)],await this.#db['create']({[this.#keyName]:_0x373b8a}),this.#cache[_0x3852c5(0xac)](_0x373b8a,!![]),this.#cache[_0x3852c5(0xb6)]('__all__');}catch(_0x4c0383){console[_0x3852c5(0x91)](_0x1e04fa[_0x3852c5(0xb8)],_0x4c0383);throw _0x4c0383;}}async[a66_0x23726b(0x93)](_0x3c1388){const _0x100d78=a66_0x23726b,_0x1d2079={'FHrkl':'Erreur\x20lors\x20de\x20la\x20suppression\x20de\x20l\x27entrée\x20:'};try{await this['_init'],await this.#db[_0x100d78(0xa8)]({'where':{[this.#keyName]:_0x3c1388}}),this.#cache[_0x100d78(0xac)](_0x3c1388,![]),this.#cache[_0x100d78(0xb6)](_0x100d78(0x8f));}catch(_0x4d9687){console['error'](_0x1d2079['FHrkl'],_0x4d9687);throw _0x4d9687;}}async['getAllEntries'](){const _0x587b6d=a66_0x23726b,_0x31d264={'vmJJn':_0x587b6d(0x8f)};try{if(this.#cache[_0x587b6d(0x8d)](_0x587b6d(0x8f))){if(_0x587b6d(0xa7)!=='dJaGd'){_0x4c4480[_0x587b6d(0x91)]('Erreur\x20lors\x20de\x20l\x27ajout\x20de\x20l\x27entrée\x20:',_0x46e5d2);throw _0x247f83;}else return this.#cache[_0x587b6d(0xa2)](_0x31d264['vmJJn']);}await this[_0x587b6d(0x9c)];const _0x5d5cd4=await this.#db[_0x587b6d(0x9e)](),_0x30f01f=_0x5d5cd4['map'](_0x4bba49=>_0x4bba49[this.#keyName]);return this.#cache['set'](_0x587b6d(0x8f),_0x30f01f),_0x30f01f;}catch(_0x55d2d4){console[_0x587b6d(0x94)](_0x587b6d(0xa9),_0x55d2d4);throw _0x55d2d4;}}async['isTableEmpty'](){const _0x3a79db=a66_0x23726b,_0x567e50=await this[_0x3a79db(0xa5)]();return _0x567e50['length']===0x0;}}module['exports']=MonokeyTableHandler;